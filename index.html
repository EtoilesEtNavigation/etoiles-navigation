<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Étoiles et Navigation - Un petit traité de navigation astronomique par Jean-Clément Louche">
    <title>Étoiles et Navigation - Navigation Astronomique</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            overflow-x: hidden;
            transition: background-color 0.6s ease, color 0.6s ease;
        }

        /* === VARIABLES DYNAMIQUES === */
        :root {
            --bg-night: #0b1a2e;
            --header-bg: #0f1e2f;
            --nav-bg: #142c44;
            --accent-orange: #e67e22;
            --text-light: #ecf0f1;
            --text-muted: #bdc3c7;
            --gold-star: #d4a017;
            --card-bg: #1a2b3d;
            --card-border: #2c5aa0;
            --input-bg: rgba(255,255,255,.12);
            --input-border: rgba(255,255,255,0.2);
            --body-bg: var(--bg-night);
        }

        [data-theme="light"] {
            --bg-night: #f5f8fa;
            --header-bg: #e6f0fa;
            --nav-bg: #1a3a52;
            --accent-orange: #f39c12;
            --text-light: #2c3e50;
            --text-muted: #7f8c8d;
            --gold-star: #b8860b;
            --card-bg: #ffffff;
            --card-border: #1a3a52;
            --input-bg: rgba(0,0,0,.05);
            --input-border: rgba(0,0,0,0.1);
            --body-bg: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--text-light);
            background-color: var(--body-bg);
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(120, 119, 198, 0.08) 0%, transparent 50%);
            background-attachment: fixed;
            position: relative;
        }

        /* === FOND ÉTOILÉ GLOBAL === */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                radial-gradient(2px 2px at 20% 30%, var(--gold-star), transparent),
                radial-gradient(1.5px 1.5px at 80% 70%, var(--gold-star), transparent),
                radial-gradient(1px 1px at 40% 90%, var(--gold-star), transparent),
                radial-gradient(1.8px 1.8px at 60% 20%, var(--gold-star), transparent);
            background-size: 200px 200px, 300px 300px, 250px 250px, 350px 350px;
            background-position: 0 0, 50px 50px, 100px 100px, 150px 150px;
            opacity: 0.6;
            pointer-events: none;
            z-index: -1;
            animation: stars-move 120s linear infinite;
        }

        [data-theme="light"]::before { opacity: 0; }

        @keyframes stars-move {
            from { background-position: 0 0, 50px 50px, 100px 100px, 150px 150px; }
            to { background-position: 200px 200px, 250px 250px, 350px 350px, 400px 400px; }
        }

        /* === HEADER === */
        header {
            position: relative;
            height: 280px;
            min-height: 280px;
            background-image: url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-color: var(--header-bg);
            padding: 1.5rem 1rem;
            text-align: center;
            color: white;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }

        @supports (background-image: url('*.webp')) {
            header { background-image: url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.webp'); }
        }

        /* === ÉTOILES DANS LE BANDEAU === */
        .header-stars {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            z-index: 1;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        [data-theme="dark"] .header-stars,
        body:not([data-theme]) .header-stars {
            opacity: 1;
        }

        .header-star {
            position: absolute;
            color: var(--gold-star);
            font-size: 1.1rem;
            animation: twinkle 3s infinite;
            opacity: 0.7;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 0.9; transform: scale(1.3); }
        }

        /* === NUAGES DIFFUS, LENTS, PLUS HAUTS === */
        .header-clouds {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            z-index: 0;
            opacity: 0;
            transition: opacity 1s ease;
        }

        [data-theme="light"] .header-clouds {
            opacity: 1;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.65);
            border-radius: 100px;
            filter: blur(12px);
            animation: drift 60s linear infinite;
            box-shadow: 
                0 10px 25px rgba(0,0,0,0.06),
                inset 0 2px 5px rgba(255,255,255,0.7);
            opacity: 0.6;
        }

        .cloud::before,
        .cloud::after {
            content: '';
            position: absolute;
            background: inherit;
            border-radius: 100px;
            filter: inherit;
            box-shadow: inherit;
            opacity: 0.8;
        }

        .cloud.large { width: 150px; height: 48px; top: 12%; }
        .cloud.large::before { width: 75px; height: 75px; top: -38px; left: 22px; }
        .cloud.large::after { width: 95px; height: 65px; top: -28px; right: 18px; }

        .cloud.medium { width: 110px; height: 38px; top: 22%; opacity: 0.55; }
        .cloud.medium::before { width: 55px; height: 55px; top: -28px; left: 16px; }
        .cloud.medium::after { width: 70px; height: 48px; top: -22px; right: 12px; }

        .cloud.small { width: 85px; height: 30px; top: 32%; opacity: 0.5; }
        .cloud.small::before { width: 42px; height: 42px; top: -22px; left: 11px; }
        .cloud.small::after { width: 55px; height: 38px; top: -19px; right: 9px; }

        @keyframes drift {
            from { transform: translateX(-200px); }
            to { transform: translateX(calc(100vw + 200px)); }
        }

        /* === BOUTON JOUR/NUIT === */
        .theme-toggle {
            position: absolute;
            top: 12px;
            background: rgba(255,255,255,0.15);
            color: white;
            padding: 6px 14px;
            border-radius: 50px;
            font-size: 0.82rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 100;
            backdrop-filter: blur(8px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            min-width: 64px;
            text-align: center;
            transition: all 0.4s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.25);
        }

        .theme-toggle { left: 12px; }
        [data-theme="light"] .theme-toggle {
            left: auto; right: 12px;
            background: rgba(0,0,0,0.1);
            color: #2c3e50;
            border-color: rgba(0,0,0,0.2);
        }

        /* === TITRE === */
        header h1 {
            font-size: 2.2rem;
            margin-bottom: 0.4rem;
            font-weight: 700;
            background: linear-gradient(to bottom, white 60%, var(--gold-star) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
            letter-spacing: 0.8px;
            line-height: 1.1;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 2;
        }

        [data-theme="light"] header h1 {
            background: linear-gradient(to bottom, #2c3e50 60%, #b8860b 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 1px 4px rgba(0,0,0,0.3);
        }

        header .subtitle {
            font-size: 1rem;
            opacity: 0.95;
            font-style: italic;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.7);
            margin-bottom: 0.2rem;
            position: relative;
            z-index: 2;
        }
        header .author {
            font-size: 0.9rem;
            opacity: 0.9;
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.7);
            font-weight: 500;
            position: relative;
            z-index: 2;
        }

        /* === MOBILE PORTRAIT === */
        @media (max-width: 480px) and (orientation: portrait) {
            header {
                height: 200px;
                min-height: 200px;
                padding: 1rem 0.8rem;
            }
            header h1 {
                font-size: 1.65rem;
                letter-spacing: 0.5px;
            }
            header .subtitle { font-size: 0.82rem; }
            header .author { font-size: 0.75rem; }
            .theme-toggle { 
                top: 10px; 
                font-size: 0.78rem; 
                padding: 5px 12px; 
                min-width: 58px;
            }
            .header-star { font-size: 0.9rem; }

            .cloud.large { 
                width: 110px; height: 35px; top: 10%;
            }
            .cloud.large::before { width: 55px; height: 55px; top: -28px; }
            .cloud.large::after { width: 70px; height: 48px; top: -20px; }

            .cloud.medium { 
                width: 80px; height: 28px; top: 18%;
            }
            .cloud.medium::before { width: 40px; height: 40px; top: -20px; }
            .cloud.medium::after { width: 52px; height: 36px; top: -16px; }

            .cloud.small { 
                width: 65px; height: 23px; top: 25%;
            }
            .cloud.small::before { width: 32px; height: 32px; top: -16px; }
            .cloud.small::after { width: 40px; height: 30px; top: -14px; }
        }

        @media (max-width: 768px) {
            header { height: 250px; }
            header h1 { font-size: 2rem; }
        }

        /* === NAVIGATION === */
        nav {
            background-color: var(--nav-bg);
            padding: 0.7rem 1rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 99;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        nav a:hover { color: var(--accent-orange); }

        /* === ACCUEIL === */
        .home-section {
            padding: 3rem 1rem;
            background: linear-gradient(to bottom, rgba(11,26,46,0.9), rgba(15,30,47,0.95));
            text-align: center;
        }
        [data-theme="light"] .home-section { background: linear-gradient(to bottom, #e6f0fa, #f8f9fa); }

        .home-cover img {
            max-width: 600px; width: 85%; height: auto; border-radius: 12px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4); transition: transform .3s;
            border: 2px solid rgba(212,160,23,0.2);
            margin-bottom: 2.5rem;
        }
        .home-cover img:hover { transform: translateY(-8px); }

        /* === INDEX VISUALISATION === */
        .index-section { padding: 0 1rem 3rem; background: rgba(15,30,47,0.6); }
        [data-theme="light"] .index-section { background: #ffffff; }

        .section-title {
            font-size: 1.8rem; color: white; text-align: center; margin-bottom: 1rem;
            position: relative; padding-bottom: 1rem;
        }
        [data-theme="light"] .section-title { color: var(--text-light); }
        .section-title::after {
            content: ''; position: absolute; bottom: 0; left: 50%;
            transform: translateX(-50%); width: 70px; height: 3px;
            background: var(--accent-orange); border-radius: 2px;
        }

        .index-hint {
            text-align: center; margin-bottom: 2rem; color: var(--text-muted); font-size: 0.95rem;
        }

        .extraits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.6rem;
            margin-bottom: 2.5rem;
        }

        .extrait-card .card-title {
            background-color: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 12px;
            padding: 1.2rem 0.8rem;
            color: var(--text-light);
            font-weight: 600;
            font-size: 0.88rem;
            transition: all .3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 78px;
            position: relative;
            overflow: hidden;
            line-height: 1.3;
        }

        .extrait-card:hover .card-title,
        .extrait-card.active .card-title {
            background-color: var(--card-border);
            color: white;
            transform: scale(1.06);
            box-shadow: 0 6px 18px rgba(44,90,160,.5);
            border-color: var(--accent-orange);
        }

        .extrait-card .click-hint {
            margin-top: 6px;
            background-color: rgba(0, 0, 0, 0.75);
            color: white;
            font-size: 0.74rem;
            padding: 4px 10px;
            border-radius: 6px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            white-space: nowrap;
        }

        .extrait-card:hover .click-hint,
        .extrait-card.active .click-hint { opacity: 1; }

        .extrait-card .image-modal {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.92);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .extrait-card .image-modal.active { display: flex; }

        .extrait-card .image-modal img {
            max-width: 92%;
            max-height: 92%;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            border: 3px solid rgba(212,160,23,0.3);
        }

        /* === CONTENU VISUALISATION === */
        .content-section { padding: 4rem 1rem; background: rgba(15,30,47,0.6); }
        [data-theme="light"] .content-section { background: #ffffff; }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.6rem;
        }

        .content-card {
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 12px;
            overflow: hidden;
            transition: all .3s;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(44,90,160,.4);
            border-color: var(--accent-orange);
        }

        .content-card img {
            width: 100%;
            height: auto;
            display: block;
        }

        .content-card .caption {
            padding: 1rem;
            color: var(--text-light);
            font-size: 0.9rem;
            text-align: center;
            font-style: italic;
        }

        /* === PDF NOTE === */
        .pdf-note {
            background-color: rgba(26,43,61,0.7);
            border-left: 5px solid var(--accent-orange);
            padding: 1.8rem;
            border-radius: 10px;
            margin: 3rem auto;
            max-width: 900px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
        }
        [data-theme="light"] .pdf-note {
            background-color: #f8f9fa;
            border-left-color: var(--accent-orange);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* === CONTACT & FOOTER === */
        .contact-section {
            padding: 4rem 1rem;
            background: linear-gradient(135deg, #0b1a2e 0%, #142c44 100%);
            color: white;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        [data-theme="light"] .contact-section {
            background: #ffffff;
            color: var(--text-light);
            border-top: 1px solid #eee;
        }

        footer {
            background-color: #0b1a2e;
            color: var(--text-muted);
            text-align: center;
            padding: 2.5rem 1rem;
            font-size: .92rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }
        [data-theme="light"] footer {
            background-color: #1a3a52;
            color: #bdc3c7;
        }

        .footer-stars {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.8s ease;
            z-index: 0;
        }

        [data-theme="dark"] .footer-stars,
        body:not([data-theme]) .footer-stars {
            opacity: 0.4;
        }

        .footer-star {
            position: absolute;
            color: var(--gold-star);
            font-size: 0.9rem;
            animation: twinkle 4s infinite;
            opacity: 0.6;
        }

        @media (max-width: 768px) {
            .home-section, .index-section, .content-section { padding: 2rem 1rem; }
            .home-cover img { max-width: 280px; }
            .section-title { font-size: 1.7rem; }
            nav { gap: 1.2rem; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="theme-toggle" id="themeToggle">Jour</div>

        <div class="header-stars">
            <div class="header-star" style="top: 15%; left: 12%; animation-delay: 0s;">★</div>
            <div class="header-star" style="top: 25%; left: 75%; animation-delay: 1s;">✦</div>
            <div class="header-star" style="top: 40%; left: 30%; animation-delay: 2s;">★</div>
            <div class="header-star" style="top: 60%; left: 85%; animation-delay: 0.5s;">✦</div>
            <div class="header-star" style="top: 75%; left: 20%; animation-delay: 1.5s;">★</div>
        </div>

        <div class="header-clouds">
            <div class="cloud large" style="left: -12%; animation-duration: 65s; animation-delay: 0s;"></div>
            <div class="cloud medium" style="left: -18%; animation-duration: 75s; animation-delay: 12s;"></div>
            <div class="cloud small" style="left: -10%; animation-duration: 55s; animation-delay: 6s;"></div>
        </div>

        <h1>Étoiles et Navigation</h1>
        <p class="subtitle">Un petit traité de navigation astronomique</p>
        <p class="author">par Jean-Clément Louche</p>
    </header>

    <!-- Navigation -->
    <nav>
        <a href="#accueil">Accueil</a>
        <a href="#index">Visualiser les index</a>
        <a href="a-propos.html">À propos de l’auteur</a>
        <a href="#contact">Commander</a>
    </nav>

    <!-- Accueil -->
    <section class="home-section" id="accueil">
        <div class="home-cover">
            <img src="images/couverture.png?v=2025" alt="Couverture du livre">
        </div>
    </section>

    <!-- Visualiser les index -->
    <section class="index-section" id="index">
        <div class="container">
            <h2 class="section-title">Visualiser les index</h2>
            <p class="index-hint">Pour visualiser le contenu d’un index, cliquez sur l’image correspondante</p>
            <div class="extraits-grid">
                <div class="extrait-card">
                    <div class="card-title">Index général<span class="click-hint">Cliquez pour agrandir</span></div>
                    <div class="image-modal"><img src="images/index.png" alt="Index général"></div>
                </div>
                <div class="extrait-card">
                    <div class="card-title">Chapitre 1<span class="click-hint">Cliquez pour agrandir</span></div>
                    <div class="image-modal"><img src="images/ch1.png" alt="Chapitre 1"></div>
                </div>
                <!-- Ajouter les autres chapitres ici -->
            </div>
        </div>
    </section>

    <!-- Visualiser du contenu -->
    <section class="content-section" id="contenu">
        <div class="container">
            <h2 class="section-title">Visualiser du contenu</h2>
            <div class="content-grid">
                <div class="content-card">
                    <img src="images/ch1_pg11.webp" alt="Chapitre 1 - Page 11">
                    <div class="caption">Chapitre 1 – Page 11</div>
                </div>
                <!-- Ajouter d'autres pages ici -->
            </div>
        </div>
    </section>

    <!-- PDF interactif -->
    <div class="pdf-note">
        <h4>Une version du livre au format PDF/EPUB interactif sera bientôt disponible</h4>
        <p>
            La version PDF du livre dispose d'une <strong>indexation interactive</strong> qui vous permet de naviguer facilement entre les chapitres. Les <strong>étoiles en bas de chaque page</strong> servent de boutons de navigation : cliquez sur elles pour revenir à l'index général ou naviguer vers d'autres chapitres. Cette fonctionnalité vous offre une expérience de lecture fluide et intuitive, guidée par les astres, comme il se doit pour un livre sur la navigation astronomique.
        </p>
    </div>

    <!-- Contact -->
    <section class="contact-section" id="contact">
        <div class="container">
            <h2 class="section-title">Commander une impression</h2>
            <form action="https://formspree.io/f/mblpzwlq" method="POST">
                <div class="form-group">
                    <label for="name">Nom complet *</label>
                    <input type="text" id="name" name="name" placeholder="Jean Dupont" required>
                </div>
                <div class="form-group">
                    <label for="email">Adresse e-mail *</label>
                    <input type="email" id="email" name="_replyto" placeholder="jean@example.com" required>
                </div>
                <div class="form-group">
                    <label for="phone">Téléphone</label>
                    <input type="tel" id="phone" name="Téléphone" placeholder="06 12 34 56 78">
                </div>
                <div class="form-group">
                    <label for="quantity">Nombre d'exemplaires *</label>
                    <input type="number" id="quantity" name="Nombre d'exemplaires" min="1" value="1" required>
                </div>
                <div class="form-group">
                    <label for="message">Message ou demandes spéciales</label>
                    <textarea id="message" name="Message" placeholder="Ex : reliure spirale, papier recyclé, envoi en colis suivi..."></textarea>
                </div>
                <button type="submit" class="form-submit">Envoyer ma commande</button>
            </form>
            <p style="text-align: center; margin-top: 1.8rem; font-size: 0.88rem; opacity: 0.9;">
                Nous vous recontacterons rapidement pour confirmer votre commande.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-stars">
            <div class="footer-star" style="top: 15%; left: 10%; animation-delay: 0s;">✦</div>
            <div class="footer-star" style="top: 40%; left: 75%; animation-delay: 1.5s;">★</div>
            <div class="footer-star" style="top: 70%; left: 30%; animation-delay: 0.8s;">✦</div>
        </div>
        <p>© Étoiles et Navigation - Jean-Clément Louche</p>
        <p>Un petit traité de navigation astronomique</p>
        <p>Edition 2025</p>
    </footer>

    <!-- JavaScript -->
    <script>
        const toggle = document.getElementById('themeToggle');
        const body = document.body;

        const savedTheme = localStorage.getItem('theme') || 'dark';
        if (savedTheme === 'light') {
            body.setAttribute('data-theme', 'light');
            toggle.textContent = 'Nuit';
        } else {
            toggle.textContent = 'Jour';
        }

        toggle.addEventListener('click', () => {
            if (body.hasAttribute('data-theme')) {
                body.removeAttribute('data-theme');
                toggle.textContent = 'Jour';
                localStorage.setItem('theme', 'dark');
            } else {
                body.setAttribute('data-theme', 'light');
                toggle.textContent = 'Nuit';
                localStorage.setItem('theme', 'light');
            }
        });

        document.querySelectorAll('.extrait-card').forEach(card => {
            const title = card.querySelector('.card-title');
            const modal = card.querySelector('.image-modal');

            title.addEventListener('click', (e) => {
                e.stopPropagation();
                const isActive = card.classList.toggle('active');
                modal.classList.toggle('active', isActive);
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal || e.target.tagName === 'IMG') {
                    card.classList.remove('active');
                    modal.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
