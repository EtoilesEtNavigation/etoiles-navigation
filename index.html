<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Étoiles et Navigation - Un petit traité de navigation astronomique par Jean-Clément Louche">
    <title>Étoiles et Navigation - Navigation Astronomique</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.6s ease, color 0.6s ease;
        }

        /* === VARIABLES DYNAMIQUES (Jour/Nuit) === */
        :root {
            /* Mode Nuit (par défaut) */
            --bg-night: #0b1a2e;
            --header-bg: #0f1e2f;
            --nav-bg: #142c44;
            --accent-orange: #e67e22;
            --text-light: #ecf0f1;
            --text-muted: #bdc3c7;
            --gold-star: #d4a017;
            --card-bg: #1a2b3d;
            --card-border: #2c5aa0;
            --input-bg: rgba(255,255,255,.12);
            --input-border: rgba(255,255,255,0.2);
            --body-bg: var(--bg-night);
        }

        /* Mode Jour */
        [data-theme="light"] {
            --bg-night: #f5f8fa;
            --header-bg: #e6f0fa;
            --nav-bg: #1a3a52;
            --accent-orange: #f39c12;
            --text-light: #2c3e50;
            --text-muted: #7f8c8d;
            --gold-star: #b8860b;
            --card-bg: #ffffff;
            --card-border: #1a3a52;
            --input-bg: rgba(0,0,0,.05);
            --input-border: rgba(0,0,0,0.1);
            --body-bg: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--text-light);
            background-color: var(--body-bg);
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(120, 119, 198, 0.08) 0%, transparent 50%);
            background-attachment: fixed;
            position: relative;
            overflow-x: hidden;
        }

        /* === FOND ÉTOILÉ ANIMÉ (Nuit uniquement) === */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                radial-gradient(2px 2px at 20% 30%, var(--gold-star), transparent),
                radial-gradient(1.5px 1.5px at 80% 70%, var(--gold-star), transparent),
                radial-gradient(1px 1px at 40% 90%, var(--gold-star), transparent),
                radial-gradient(1.8px 1.8px at 60% 20%, var(--gold-star), transparent);
            background-size: 200px 200px, 300px 300px, 250px 250px, 350px 350px;
            background-position: 0 0, 50px 50px, 100px 100px, 150px 150px;
            opacity: 0.6;
            pointer-events: none;
            z-index: -1;
            animation: stars-move 120s linear infinite;
        }

        [data-theme="light"]::before {
            opacity: 0;
        }

        @keyframes stars-move {
            from { background-position: 0 0, 50px 50px, 100px 100px, 150px 150px; }
            to { background-position: 200px 200px, 250px 250px, 350px 350px, 400px 400px; }
        }

        /* === BOUTON MODE JOUR/NUIT === */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            backdrop-filter: blur(6px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.4s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.25);
        }

        [data-theme="light"] .theme-toggle {
            background: rgba(0,0,0,0.1);
            border-color: rgba(0,0,0,0.2);
            color: #2c3e50;
        }

        .theme-toggle svg {
            width: 22px;
            height: 22px;
            transition: transform 0.4s ease;
        }

        /* === HEADER === */
        header {
            height: 300px;
            min-height: 300px;
            background-image: url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-color: var(--header-bg);
            padding: 2rem 1rem;
            text-align: center;
            color: white;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            position: sticky;
            top: 0;
            z-index: 99;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        @supports (background-image: url('*.webp')) {
            header {
                background-image: url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.webp');
            }
        }

        /* Étoiles décoratives */
        header::before, header::after {
            color: var(--gold-star);
            opacity: 0.7;
            z-index: 1;
            animation: twinkle 3s infinite;
        }
        header::before {
            content: '★';
            position: absolute;
            top: 20px; left: 20px;
            font-size: 1.4rem;
        }
        header::after {
            content: '✦';
            position: absolute;
            bottom: 25px; right: 25px;
            font-size: 1.1rem;
            animation: twinkle 4s infinite reverse;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.9; transform: scale(1.2); }
        }

        /* Titre avec reflet doré */
        header h1 {
            font-size: 2.6rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            position: relative;
            display: inline-block;
            background: linear-gradient(to bottom, white 60%, var(--gold-star) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
            letter-spacing: 1px;
        }

        header .subtitle {
            font-size: 1.15rem;
            opacity: 0.95;
            font-style: italic;
            text-shadow: 0 1px 6px rgba(0, 0, 0, 0.7);
            margin-bottom: 0.3rem;
        }
        header .author {
            font-size: 0.98rem;
            opacity: 0.9;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.7);
            font-weight: 500;
        }

        /* === NAVIGATION === */
        nav {
            background-color: var(--nav-bg);
            padding: 0.7rem 1rem;
            display: flex;
            justify-content: center;
            gap: 2.2rem;
            flex-wrap: wrap;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        nav a {
            color: white;
            text-decoration: none;
            font-size: 0.98rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        nav a:hover {
            color: var(--accent-orange);
        }

        /* === HERO, EXTRAITS, CONTACT, FOOTER === */
        /* (Identique à la version précédente, avec variables dynamiques) */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 3.5rem 1rem;
            background: linear-gradient(to bottom, rgba(11,26,46,0.9), rgba(15,30,47,0.95));
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        [data-theme="light"] .hero {
            background: linear-gradient(to bottom, #e6f0fa, #f8f9fa);
        }

        .hero-cover-top img {
            max-width: 600px;
            width: 85%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            transition: transform .3s;
            border: 2px solid rgba(212,160,23,0.2);
        }
        .hero-cover-top img:hover { transform: translateY(-8px); }

        .hero-content h2 {
            font-size: 2.1rem;
            color: white;
            margin-bottom: 1.2rem;
            position: relative;
            display: inline-block;
        }
        [data-theme="light"] .hero-content h2 { color: var(--text-light); }
        .hero-content h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-orange), transparent);
            border-radius: 2px;
        }

        .hero-content .description {
            font-size: 1.02rem;
            line-height: 1.9;
            color: var(--text-muted);
            margin-bottom: 1.8rem;
            text-align: justify;
            max-width: 850px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent-orange), #f39c12);
            color: white;
            padding: .85rem 2.2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.05rem;
            transition: all .3s;
            box-shadow: 0 4px 15px rgba(230,126,34,0.4);
        }
        .cta-button:hover {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(230,126,34,0.6);
        }

        /* === EXTRAITS === */
        .extraits-section {
            padding: 4rem 1rem;
            background: rgba(15,30,47,0.6);
        }
        [data-theme="light"] .extraits-section {
            background: #ffffff;
        }

        .section-title {
            font-size: 2.1rem;
            color: white;
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
            padding-bottom: 1rem;
        }
        [data-theme="light"] .section-title { color: var(--text-light); }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--accent-orange);
            border-radius: 2px;
        }

        .extraits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.6rem;
            margin-bottom: 2.5rem;
        }

        .extrait-card .card-title {
            background-color: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 12px;
            padding: 1.6rem 1rem;
            color: var(--text-light);
            font-weight: 600;
            font-size: .92rem;
            transition: all .3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 90px;
            position: relative;
            overflow: hidden;
        }

        .extrait-card:hover .card-title,
        .extrait-card.active .card-title {
            background-color: var(--card-border);
            color: white;
            transform: scale(1.06);
            box-shadow: 0 6px 18px rgba(44,90,160,.5);
            border-color: var(--accent-orange);
        }

        .extrait-card .click-hint {
            margin-top: 8px;
            background-color: rgba(0, 0, 0, 0.75);
            color: white;
            font-size: 0.76rem;
            padding: 5px 12px;
            border-radius: 6px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            white-space: nowrap;
        }

        .extrait-card:hover .click-hint,
        .extrait-card.active .click-hint {
            opacity: 1;
        }

        .extrait-card .image-modal {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.92);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .extrait-card .image-modal.active {
            display: flex;
        }

        .extrait-card .image-modal img {
            max-width: 92%;
            max-height: 92%;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            border: 3px solid rgba(212,160,23,0.3);
        }

        .pdf-note {
            background-color: rgba(26,43,61,0.7);
            border-left: 5px solid var(--accent-orange);
            padding: 1.8rem;
            border-radius: 10px;
            margin-top: 2.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
        }
        [data-theme="light"] .pdf-note {
            background-color: #f8f9fa;
            border-left-color: var(--accent-orange);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* === CONTACT & FOOTER === */
        .contact-section {
            padding: 4rem 1rem;
            background: linear-gradient(135deg, #0b1a2e 0%, #142c44 100%);
            color: white;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        [data-theme="light"] .contact-section {
            background: #ffffff;
            color: var(--text-light);
            border-top: 1px solid #eee;
        }

        .form-group input, .form-group textarea {
            background-color: var(--input-bg);
            border: 1px solid var(--input-border);
            color: inherit;
        }

        footer {
            background-color: #0b1a2e;
            color: var(--text-muted);
            text-align:: center;
            padding: 2.5rem 1rem;
            font-size: .92rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        [data-theme="light"] footer {
            background-color: #1a3a52;
            color: #bdc3c7;
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            .theme-toggle { top: 15px; right: 15px; width: 40px; height: 40px; }
            .theme-toggle svg { width: 20px; height: 20px; }
            header { height: 250px; }
            header h1 { font-size: 2.1rem; }
            .hero-cover-top img { max-width: 280px; }
            .extraits-grid { gap: 1.2rem; }
        }
    </style>
</head>
<body>

    <!-- Bouton Mode Jour/Nuit -->
    <div class="theme-toggle" id="themeToggle" aria-label="Changer de thème">
        <svg viewBox="0 0 24 24" fill="currentColor" id="sunIcon">
            <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
        <svg viewBox="0 0 24 24" fill="currentColor" id="moonIcon" style="display:none;">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
    </div>

    <!-- Header -->
    <header>
        <h1>Étoiles et Navigation</h1>
        <p class="subtitle">Un petit traité de navigation astronomique</p>
        <p class="author">par Jean-Clément Louche</p>
    </header>

    <!-- Navigation -->
    <nav>
        <a href="#presentation">Présentation</a>
        <a href="#extraits">Extraits</a>
        <a href="#contact">Commander</a>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="presentation">
        <div class="hero-cover-top">
            <img src="images/couverture.png" alt="Couverture - Étoiles et Navigation">
        </div>
        <div class="hero-content">
            <h2>À propos du livre</h2>
            <p class="description">
                <div class="hero-cover" style="float: right; margin-left: 20px; margin-bottom: 20px; max-width: 40%;">
                    <img src="images/4medecouverture.jpeg" alt="4ème de couverture" style="max-width: 100%;">
                </div>
                En 4ème de couverture, un montage photographique, réalisé par son fils Gabriel, capturant Jean-Clément à la barre d'un voilier sur le Grand Large, naviguant sous un ciel étoilé, symbole de sa vie guidée par les astres et la mer.
                <br><br>
                Né le 2 septembre 1937 à Loisy, en Saône-et-Loire, et décédé le 29 janvier 2016, Jean-Clément Louche a vécu avec une passion débordante pour le vol à voile, l'aéronautique et la navigation. Mécanicien d'avion breveté, il forgea une carrière exemplaire, passant de mécanicien poids lourds à chef de service à la voirie de la ville de Lyon, après des années de cours du soir et une ascension aux bureaux d'études de la ville.
                <br><br>
                Amoureux de la mer, il obtint tous ses permis de navigation – fluvial et hauturier – et s'investit avec ferveur dans l'organisation de la base de voile de la ville de Lyon au Grand Large. Régatier aguerri, il sillonna les eaux, notamment dans la région de Bandol. Également fasciné par l'astronomie, il scrutait les étoiles et s'engagea dans l'observation des objets célestes, devenant membre et enquêteur de la revue Lumière dans la Nuit, explorant le mystère des OVNI.
                <br><br>
                Homme de savoir, Jean consacra des années à rédiger une encyclopédie de la navigation astronomique, un ouvrage unique, aujourd'hui mis en page pour une possible édition. Ce livre est un hommage à sa vie, à ses passions et à son héritage, naviguant entre ciel et mer, toujours en quête de l'horizon.
            </p>
            <a href="#contact" class="cta-button">Commander une impression</a>
        </div>
    </section>

    <!-- Extraits -->
    <section class="extraits-section" id="extraits">
        <div class="container">
            <h2 class="section-title">Extraits du livre</h2>
            <p style="text-align: center; margin-bottom: 2rem; color: var(--text-muted);">Cliquez sur les titres pour voir les extraits en grand format</p>
            <div class="extraits-grid">
                <!-- Répéter pour chaque chapitre -->
                <div class="extrait-card">
                    <div class="card-title">Index général<span class="click-hint">Cliquez pour agrandir</span></div>
                    <div class="image-modal"><img src="images/index.png" alt="Index général"></div>
                </div>
                <!-- ... 12 chapitres ... -->
                <!-- (identique à la version précédente) -->
            </div>
            <div class="pdf-note">
                <h4>À propos du PDF interactif</h4>
                <p>
                    La version PDF du livre dispose d'une <strong>indexation interactive</strong> qui vous permet de naviguer facilement entre les chapitres. Les <strong>étoiles en bas de chaque page</strong> servent de boutons de navigation : cliquez sur elles pour revenir à l'index général ou naviguer vers d'autres chapitres. Cette fonctionnalité vous offre une expérience de lecture fluide et intuitive, guidée par les astres, comme il se doit pour un livre sur la navigation astronomique.
                </p>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section class="contact-section" id="contact">
        <div class="contact-container">
            <h2 class="section-title">Commander une impression</h2>
            <form action="https://formspree.io/f/mblpzwlq" method="POST">
                <div class="form-group">
                    <label for="name">Nom complet *</label>
                    <input type="text" id="name" name="name" placeholder="Jean Dupont" required>
                </div>
                <div class="form-group">
                    <label for="email">Adresse e-mail *</label>
                    <input type="email" id="email" name="_replyto" placeholder="jean@example.com" required>
                </div>
                <div class="form-group">
                    <label for="phone">Téléphone</label>
                    <input type="tel" id="phone" name="Téléphone" placeholder="06 12 34 56 78">
                </div>
                <div class="form-group">
                    <label for="quantity">Nombre d'exemplaires *</label>
                    <input type="number" id="quantity" name="Nombre d'exemplaires" min="1" value="1" required>
                </div>
                <div class="form-group">
                    <label for="message">Message ou demandes spéciales</label>
                    <textarea id="message" name="Message" placeholder="Ex : reliure spirale, papier recyclé, envoi en colis suivi..."></textarea>
                </div>
                <button type="submit" class="form-submit">Envoyer ma commande</button>
            </form>
            <p style="text-align: center; margin-top: 1.8rem; font-size: 0.88rem; opacity: 0.9;">
                Nous vous recontacterons rapidement pour confirmer votre commande.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>© Étoiles et Navigation - Jean-Clément Louche</p>
        <p>Un petit traité de navigation astronomique</p>
        <p>Edition 2025</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // === MODE JOUR/NUIT ===
        const toggle = document.getElementById('themeToggle');
        const sun = document.getElementById('sunIcon');
        const moon = document.getElementById('moonIcon');
        const body = document.body;

        // Charger le thème sauvegardé
        const savedTheme = localStorage.getItem('theme') || 'dark';
        if (savedTheme === 'light') {
            body.setAttribute('data-theme', 'light');
            sun.style.display = 'none';
            moon.style.display = 'block';
        }

        toggle.addEventListener('click', () => {
            if (body.hasAttribute('data-theme')) {
                body.removeAttribute('data-theme');
                sun.style.display = 'block';
                moon.style.display = 'none';
                localStorage.setItem('theme', 'dark');
            } else {
                body.setAttribute('data-theme', 'light');
                sun.style.display = 'none';
                moon.style.display = 'block';
                localStorage.setItem('theme', 'light');
            }
        });

        // === Fallback image + Extraits ===
        const img = new Image();
        img.src = 'https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.webp';
        img.onerror = () => document.querySelector('header').classList.add('no-image');

        document.querySelectorAll('.extrait-card').forEach(card => {
            const title = card.querySelector('.card-title');
            const modal = card.querySelector('.image-modal');

            title.addEventListener('click', (e) => {
                e.stopPropagation();
                const isActive = card.classList.toggle('active');
                modal.classList.toggle('active', isActive);
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal || e.target.tagName === 'IMG') {
                    card.classList.remove('active');
                    modal.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
