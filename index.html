<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Étoiles et Navigation - Un petit traité de navigation astronomique par Jean-Clément Louche">
    <title>Étoiles et Navigation - Navigation Astronomique</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        :root {
            --primary-color: #1a3a52;
            --secondary-color: #2c5aa0;
            --accent-color: #f39c12;
            --light-bg: #f8f9fa;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --border-color: #ecf0f1;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: #ffffff;
        }

        /* === HEADER À HAUTEUR FIXE + IMAGE ENTIÈRE === */
        header {
            height: 300px;
            min-height: 300px;
            background-image: url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.webp');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-color: #e6f0fa; /* Fond clair si image transparente ou petit écran */
            background-attachment: scroll;
            padding: 2rem 1rem;
            text-align: center;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Fallback PNG si WebP non supporté (anciens navigateurs) */
        header {
            background-image: 
                url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.png');
        }
        @supports (background-image: url(*.webp)) {
            header {
                background-image: 
                    url('https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.webp');
            }
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
        }
        header .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-style: italic;
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
            margin-bottom: 0.3rem;
        }
        header .author {
            font-size: 0.95rem;
            opacity: 0.9;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        }

        /* === RESPONSIVE MOBILE === */
        @media (max-width: 768px) {
            header {
                height: 250px;
                min-height: 250px;
                padding: 1.5rem 1rem;
            }
            header h1 { font-size: 2rem; }
            header .subtitle { font-size: 1rem; }
            header .author { font-size: 0.9rem; }
        }
        @media (max-width: 480px) {
            header {
                height: 220px;
                min-height: 220px;
                padding: 1rem 0.5rem;
            }
            header h1 { font-size: 1.7rem; }
            header .subtitle { font-size: 0.9rem; }
        }

        /* === FALLBACK SI AUCUNE IMAGE NE CHARGE === */
        header::before {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }
        header.no-image::before {
            opacity: 1;
        }
        header > * {
            position: relative;
            z-index: 1;
        }

        /* === NAVIGATION === */
        nav {
            background-color: var(--primary-color);
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }
        nav a {
            color: white;
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }
        nav a:hover {
            color: var(--accent-color);
        }

        /* === RESTE DU STYLE (inchangé) === */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        .hero { display: flex; flex-direction: column; align-items: center; padding: 3rem 1rem; background-color: var(--light-bg); }
        .hero-cover-top { text-align: center; margin-bottom: 2rem; width: 100%; }
        .hero-cover-top img { max-width: 600px; width: 80%; height: auto; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); transition: transform .3s; }
        .hero-cover-top img:hover { transform: translateY(-5px); }
        .hero-content { display: flex; flex-direction: column; align-items: center; text-align: center; width: 100%; }
        .hero-content h2 { font-size: 2rem; color: var(--primary-color); margin-bottom: 1rem; }
        .hero-content .description { font-size: 1rem; line-height: 1.8; color: var(--text-dark); margin-bottom: 1.5rem; text-align: justify; max-width: 800px; }
        .cta-button { display: inline-block; background-color: var(--accent-color); color: white; padding: .75rem 2rem; border-radius: 5px; text-decoration: none; font-weight: 600; transition: background-color .3s, transform .2s; }
        .cta-button:hover { background-color: #e67e22; transform: translateY(-2px); }

        .extraits-section { padding: 3rem 1rem; background-color: white; }
        .section-title { font-size: 2rem; color: var(--primary-color); text-align: center; margin-bottom: 3rem; position: relative; padding-bottom: 1rem; }
        .section-title::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60px; height: 3px; background-color: var(--accent-color); border-radius: 2px; }
        .extraits-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .extrait-card { position: relative; cursor: pointer; text-align: center; }
        .extrait-card .card-title { background-color: var(--light-bg); border: 2px solid var(--primary-color); border-radius: 8px; padding: 1.5rem 1rem; color: var(--primary-color); font-weight: 600; font-size: .9rem; transition: all .3s; display: flex; align-items: center; justify-content: center; min-height: 80px; }
        .extrait-card:hover .card-title { background-color: var(--primary-color); color: white; transform: scale(1.05); box-shadow: 0 4px 12px rgba(26,58,82,.3); }
        .extrait-card .image-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,.85); display: none; align-items: center; justify-content: center; z-index: 1000; }
        .extrait-card .image-modal.active { display: flex; }
        .extrait-card .image-modal img { max-width: 90%; max-height: 90%; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,.3); }
        .extrait-card .image-modal .close-btn { display: none; }

        .pdf-note { background-color: white; border-left: 4px solid var(--accent-color); padding: 1.5rem; border-radius: 4px; margin-top: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,.08); }
        .pdf-note h4 { color: var(--primary-color); margin-bottom: .5rem; font-size: 1.1rem; }
        .pdf-note p { color: var(--text-dark); font-size: .95rem; line-height: 1.7; }

        .contact-section { padding: 3rem 1rem; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; }
        .contact-container { max-width: 600px; margin: 0 auto; }
        .contact-section .section-title { color: white; }
        .contact-section .section-title::after { background-color: var(--accent-color); }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: .5rem; font-weight: 500; font-size: .95rem; }
        .form-group input, .form-group textarea { width: 100%; padding: .75rem; border: none; border-radius: 5px; font-family: inherit; font-size: .95rem; background-color: rgba(255,255,255,.95); color: var(--text-dark); transition: background-color .3s; }
        .form-group input:focus, .form-group textarea:focus { outline: none; background-color: white; box-shadow: 0 0 0 3px rgba(243,156,18,.3); }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .form-submit { background-color: var(--accent-color); color: white; padding: .75rem 2rem; border: none; border-radius: 5px; font-weight: 600; cursor: pointer; width: 100%; font-size: 1rem; transition: background-color .3s, transform .2s; }
        .form-submit:hover { background-color: #e67e22; transform: translateY(-2px); }

        footer { background-color: var(--primary-color); color: white; text-align: center; padding: 2rem 1rem; font-size: .9rem; }
        footer p { margin: .5rem 0; }

        @media (max-width: 768px) {
            .hero { padding: 2rem 1rem; }
            .hero-cover-top img { max-width: 250px; }
            .extraits-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; }
            .section-title { font-size: 1.5rem; }
            nav { gap: 1rem; }
            nav a { font-size: .85rem; }
        }
        @media (max-width: 480px) {
            .hero { padding: 1.5rem .5rem; }
            .extraits-grid { grid-template-columns: repeat(2, 1fr); }
            .section-title { font-size: 1.3rem; margin-bottom: 2rem; }
            nav { gap: .5rem; padding: .5rem; }
            nav a { font-size: .8rem; }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <h1>Étoiles et Navigation</h1>
        <p class="subtitle">Un petit traité de navigation astronomique</p>
        <p class="author">par Jean-Clément Louche</p>
    </header>

    <!-- Navigation -->
    <nav>
        <a href="#presentation">Présentation</a>
        <a href="#extraits">Extraits</a>
        <a href="#contact">Commander</a>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="presentation">
        <div class="hero-cover-top">
            <img src="images/couverture.png" alt="Couverture - Étoiles et Navigation">
        </div>
        <div class="hero-content">
            <h2>À propos du livre</h2>
            <p class="description">
                <div class="hero-cover" style="float: right; margin-left: 20px; margin-bottom: 20px; max-width: 40%;">
                    <img src="images/4medecouverture.jpeg" alt="4ème de couverture" style="max-width: 100%;">
                </div>
                En 4ème de couverture, un montage photographique, réalisé par son fils Gabriel, capturant Jean-Clément à la barre d'un voilier sur le Grand Large, naviguant sous un ciel étoilé, symbole de sa vie guidée par les astres et la mer.
                <br><br>
                Né le 2 septembre 1937 à Loisy, en Saône-et-Loire, et décédé le 29 janvier 2016, Jean-Clément Louche a vécu avec une passion débordante pour le vol à voile, l'aéronautique et la navigation. Mécanicien d'avion breveté, il forgea une carrière exemplaire, passant de mécanicien poids lourds à chef de service à la voirie de la ville de Lyon, après des années de cours du soir et une ascension aux bureaux d'études de la ville.
                <br><br>
                Amoureux de la mer, il obtint tous ses permis de navigation – fluvial et hauturier – et s'investit avec ferveur dans l'organisation de la base de voile de la ville de Lyon au Grand Large. Régatier aguerri, il sillonna les eaux, notamment dans la région de Bandol. Également fasciné par l'astronomie, il scrutait les étoiles et s'engagea dans l'observation des objets célestes, devenant membre et enquêteur de la revue Lumière dans la Nuit, explorant le mystère des OVNI.
                <br><br>
                Homme de savoir, Jean consacra des années à rédiger une encyclopédie de la navigation astronomique, un ouvrage unique, aujourd'hui mis en page pour une possible édition. Ce livre est un hommage à sa vie, à ses passions et à son héritage, naviguant entre ciel et mer, toujours en quête de l'horizon.
            </p>
            <a href="#contact" class="cta-button">Commander une impression</a>
        </div>
    </section>

    <!-- Extraits -->
    <section class="extraits-section" id="extraits">
        <div class="container">
            <h2 class="section-title">Extraits du livre</h2>
            <p style="text-align: center; margin-bottom: 2rem; color: var(--text-light);">Survolez les titres des chapitres pour voir les extraits en détail</p>
            <div class="extraits-grid">
                <!-- (Toutes les cartes extraits inchangées) -->
                <div class="extrait-card">
                    <div class="card-title">Index général</div>
                    <div class="image-modal">
                        <button class="close-btn">&times;</button>
                        <img src="images/index.png" alt="Index général">
                    </div>
                </div>
                <!-- ... (les 12 chapitres) ... -->
            </div>
            <div class="pdf-note">
                <h4>À propos du PDF interactif</h4>
                <p>La version PDF du livre dispose d'une <strong>indexation interactive</strong> qui vous permet de naviguer facilement entre les chapitres. Les <strong>étoiles en bas de chaque page</strong> servent de boutons de navigation.</p>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section class="contact-section" id="contact">
        <div class="contact-container">
            <h2 class="section-title">Commander une impression</h2>
            <form action="https://formspree.io/f/mblpzwlq" method="POST">
                <div class="form-group">
                    <label for="name">Nom complet *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Adresse e-mail *</label>
                    <input type="email" id="email" name="_replyto" required>
                </div>
                <div class="form-group">
                    <label for="phone">Téléphone</label>
                    <input type="tel" id="phone" name="Téléphone">
                </div>
                <div class="form-group">
                    <label for="quantity">Nombre d'exemplaires *</label>
                    <input type="number" id="quantity" name="Nombre d'exemplaires" min="1" value="1" required>
                </div>
                <div class="form-group">
                    <label for="message">Message ou demandes spéciales</label>
                    <textarea id="message" name="Message" placeholder="Parlez-nous de votre commande..."></textarea>
                </div>
                <button type="submit" class="form-submit">Envoyer ma commande</button>
            </form>
            <p style="text-align: center; margin-top: 1.5rem; font-size: 0.85rem; opacity: 0.9;">
                Nous vous recontacterons rapidement pour confirmer votre commande.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>© Étoiles et Navigation - Jean-Clément Louche</p>
        <p>Un petit traité de navigation astronomique</p>
        <p>Edition 2025</p>
    </footer>

    <!-- JS : Fallback + Modales -->
    <script>
        // Fallback image
        const img = new Image();
        img.src = 'https://etoilesetnavigation.github.io/etoiles-navigation/images/fondbandeau.webp';
        img.onload = () => {};
        img.onerror = () => {
            document.querySelector('header').classList.add('no-image');
        };

        // Modales au survol
        document.querySelectorAll('.extrait-card').forEach(card => {
            const modal = card.querySelector('.image-modal');
            const title = card.querySelector('.card-title');
            title.addEventListener('mouseenter', () => modal.classList.add('active'));
            card.addEventListener('mouseleave', () => modal.classList.remove('active'));
            modal.addEventListener('click', (e) => {
                if (e.target === modal || e.target.tagName === 'IMG') {
                    modal.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
